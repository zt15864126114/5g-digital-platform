import{_ as se,r as g,k as oe,c as k,b as e,w as t,d as o,e as _,F as U,g as E,f as i,m as ne,h as r,t as u,B as re,E as de,p as F,i as S,j as ue,y as ie}from"./index-CXltNX8R.js";const pe={class:"innovation-container"},ce={class:"stat-icon"},me={class:"stat-info"},_e={class:"stat-value"},fe={class:"stat-title"},ve={class:"card-header"},ge={class:"header-right"},ye={class:"dialog-footer"},be={key:0,class:"project-details"},Ve={class:"milestone-section"},we={__name:"BusinessInnovation",setup(De){const N=g([{title:"进行中项目",value:"12",icon:"Connection",color:"#409EFF"},{title:"已完成项目",value:"25",icon:"TrendCharts",color:"#67C23A"},{title:"待审核项目",value:"5",icon:"Monitor",color:"#E6A23C"},{title:"暂停项目",value:"2",icon:"Cpu",color:"#F56C6C"}]),D=n=>{if(!n)return"";const l=new Date(n),p=l.getFullYear(),b=String(l.getMonth()+1).padStart(2,"0"),h=String(l.getDate()).padStart(2,"0");return`${p}-${b}-${h}`},f=g([{id:1,name:"5G+智慧工厂解决方案创新",type:"产品创新",leader:"张明",startDate:"2024-10-15",endDate:"2025-02-25",progress:45,status:"进行中",description:"针对制造业数字化转型需求，开发基于5G网络的智慧工厂整体解决方案。",milestones:[{date:"2024-01-15",content:"项目启动",status:"完成"},{date:"2024-03-01",content:"需求分析完成",status:"完成"},{date:"2024-04-15",content:"方案设计",status:"进行中"},{date:"2024-06-30",content:"项目验收",status:"待完成"}]},{id:2,name:"边缘计算平台优化项目",type:"技术创新",leader:"李华",startDate:"2024-10-01",endDate:"2025-02-26",progress:65,status:"进行中",description:"优化现有边缘计算平台性能，提升数据处理效率和响应速度。",milestones:[{date:"2024-02-01",content:"项目启动",status:"完成"},{date:"2024-03-15",content:"性能分析",status:"完成"},{date:"2024-04-30",content:"优化实施",status:"进行中"},{date:"2024-05-31",content:"验收测试",status:"待完成"}]},{id:3,name:"网络切片管理系统革新",type:"平台创新",leader:"王芳",startDate:"2024-10-15",endDate:"2025-03-30",progress:30,status:"进行中",description:"重构网络切片管理系统，提升用户体验和管理效率。",milestones:[{date:"2024-03-01",content:"项目启动",status:"完成"},{date:"2024-04-15",content:"架构设计",status:"进行中"},{date:"2024-06-30",content:"系统开发",status:"待完成"},{date:"2024-08-31",content:"系统上线",status:"待完成"}]}]),A=[{value:"产品创新",label:"产品创新"},{value:"技术创新",label:"技术创新"},{value:"平台创新",label:"平台创新"},{value:"服务创新",label:"服务创新"},{value:"模式创新",label:"模式创新"}],y=g(!1),j=g(!1),C=g("add"),B=g(null),d=g(null),s=oe({name:"",type:"",leader:"",startDate:"",endDate:"",progress:0,description:""}),R={name:[{required:!0,message:"请输入项目名称",trigger:"blur"}],type:[{required:!0,message:"请选择项目类型",trigger:"change"}],leader:[{required:!0,message:"请输入负责人姓名",trigger:"blur"}],startDate:[{required:!0,message:"请选择开始日期",trigger:"change"}],endDate:[{required:!0,message:"请选择完成日期",trigger:"change"}],description:[{required:!0,message:"请输入项目描述",trigger:"blur"}]},$=n=>({产品创新:"success",技术创新:"primary",平台创新:"warning",服务创新:"info",模式创新:""})[n]||"",q=n=>({进行中:"primary",已完成:"success",待审核:"warning",已暂停:"info"})[n]||"",z=n=>n>=100?"success":n>=80?"warning":"",G=()=>{C.value="add",y.value=!0,Object.keys(s).forEach(n=>{s[n]=""}),s.progress=0},O=n=>{C.value="edit",y.value=!0,Object.assign(s,n)},L=n=>{d.value=n,j.value=!0},Y=n=>{de.confirm("确认删除该项目？","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{const l=f.value.findIndex(p=>p.id===n.id);l>-1&&(f.value.splice(l,1),F.success("删除成功"))}).catch(()=>{})},H=async()=>{B.value&&await B.value.validate(n=>{if(n){const l={id:f.value.length+1,status:"进行中",...s,milestones:[{date:s.startDate,content:"项目启动",status:"完成"},{date:s.endDate,content:"项目验收",status:"待完成"}]};if(C.value==="add")f.value.unshift(l),F.success("添加成功");else{const p=f.value.findIndex(b=>b.id===l.id);p>-1&&(f.value[p]=l,F.success("更新成功"))}y.value=!1}})};return(n,l)=>{const p=o("el-icon"),b=o("el-card"),h=o("el-col"),I=o("el-row"),V=o("el-button"),c=o("el-table-column"),x=o("el-tag"),P=o("el-progress"),J=o("el-table"),T=o("el-input"),v=o("el-form-item"),K=o("el-option"),Q=o("el-select"),M=o("el-date-picker"),W=o("el-slider"),X=o("el-form"),Z=o("el-dialog"),m=o("el-descriptions-item"),ee=o("el-descriptions"),te=o("el-timeline-item"),le=o("el-timeline"),ae=o("el-drawer");return _(),k("div",pe,[e(I,{gutter:20},{default:t(()=>[(_(!0),k(U,null,E(N.value,(a,w)=>(_(),S(h,{span:6,key:w},{default:t(()=>[e(b,{class:"stat-card","body-style":{padding:"20px"}},{default:t(()=>[i("div",ce,[e(p,{size:24,color:a.color},{default:t(()=>[(_(),S(ue(a.icon)))]),_:2},1032,["color"])]),i("div",me,[i("div",_e,u(a.value),1),i("div",fe,u(a.title),1)])]),_:2},1024)]),_:2},1024))),128))]),_:1}),e(b,{class:"project-card"},{header:t(()=>[i("div",ve,[l[11]||(l[11]=i("div",{class:"header-left"},[i("span",{class:"title"},"创新项目管理")],-1)),i("div",ge,[e(V,{type:"primary",onClick:G},{default:t(()=>[e(p,null,{default:t(()=>[e(ne(ie))]),_:1}),l[10]||(l[10]=r("新建项目 "))]),_:1})])])]),default:t(()=>[e(J,{data:f.value,style:{width:"100%"},border:"",stripe:""},{default:t(()=>[e(c,{prop:"name",label:"项目名称","min-width":"180","show-overflow-tooltip":""}),e(c,{prop:"type",label:"项目类型",width:"120"},{default:t(({row:a})=>[e(x,{type:$(a.type)},{default:t(()=>[r(u(a.type),1)]),_:2},1032,["type"])]),_:1}),e(c,{prop:"leader",label:"负责人",width:"100"}),e(c,{prop:"startDate",label:"开始日期",width:"180"},{default:t(({row:a})=>[r(u(D(a.startDate)),1)]),_:1}),e(c,{prop:"endDate",label:"计划完成",width:"180"},{default:t(({row:a})=>[r(u(D(a.endDate)),1)]),_:1}),e(c,{prop:"progress",label:"进度",width:"180"},{default:t(({row:a})=>[e(P,{percentage:a.progress,status:z(a.progress)},null,8,["percentage","status"])]),_:1}),e(c,{prop:"status",label:"状态",width:"100"},{default:t(({row:a})=>[e(x,{type:q(a.status)},{default:t(()=>[r(u(a.status),1)]),_:2},1032,["type"])]),_:1}),e(c,{label:"操作",width:"200",fixed:"right"},{default:t(a=>[e(V,{size:"small",onClick:w=>O(a.row)},{default:t(()=>l[12]||(l[12]=[r("编辑")])),_:2},1032,["onClick"]),e(V,{size:"small",type:"success",onClick:w=>L(a.row)},{default:t(()=>l[13]||(l[13]=[r("详情")])),_:2},1032,["onClick"]),e(V,{size:"small",type:"danger",onClick:w=>Y(a.row)},{default:t(()=>l[14]||(l[14]=[r("删除")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1}),e(Z,{title:C.value==="add"?"新建项目":"编辑项目",modelValue:y.value,"onUpdate:modelValue":l[8]||(l[8]=a=>y.value=a),width:"600px"},{footer:t(()=>[i("span",ye,[e(V,{onClick:l[7]||(l[7]=a=>y.value=!1)},{default:t(()=>l[15]||(l[15]=[r("取消")])),_:1}),e(V,{type:"primary",onClick:H},{default:t(()=>l[16]||(l[16]=[r("确定")])),_:1})])]),default:t(()=>[e(X,{ref_key:"formRef",ref:B,model:s,rules:R,"label-width":"100px"},{default:t(()=>[e(v,{label:"项目名称",prop:"name"},{default:t(()=>[e(T,{modelValue:s.name,"onUpdate:modelValue":l[0]||(l[0]=a=>s.name=a),placeholder:"请输入项目名称"},null,8,["modelValue"])]),_:1}),e(v,{label:"项目类型",prop:"type"},{default:t(()=>[e(Q,{modelValue:s.type,"onUpdate:modelValue":l[1]||(l[1]=a=>s.type=a),placeholder:"请选择项目类型",style:{width:"100%"}},{default:t(()=>[(_(),k(U,null,E(A,a=>e(K,{key:a.value,label:a.label,value:a.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),e(v,{label:"项目负责人",prop:"leader"},{default:t(()=>[e(T,{modelValue:s.leader,"onUpdate:modelValue":l[2]||(l[2]=a=>s.leader=a),placeholder:"请输入负责人姓名"},null,8,["modelValue"])]),_:1}),e(I,{gutter:20},{default:t(()=>[e(h,{span:12},{default:t(()=>[e(v,{label:"开始日期",prop:"startDate"},{default:t(()=>[e(M,{modelValue:s.startDate,"onUpdate:modelValue":l[3]||(l[3]=a=>s.startDate=a),type:"date",placeholder:"选择开始日期",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1}),e(h,{span:12},{default:t(()=>[e(v,{label:"计划完成",prop:"endDate"},{default:t(()=>[e(M,{modelValue:s.endDate,"onUpdate:modelValue":l[4]||(l[4]=a=>s.endDate=a),type:"date",placeholder:"选择完成日期",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(v,{label:"项目进度",prop:"progress"},{default:t(()=>[e(W,{modelValue:s.progress,"onUpdate:modelValue":l[5]||(l[5]=a=>s.progress=a),step:5,"show-input":""},null,8,["modelValue"])]),_:1}),e(v,{label:"项目描述",prop:"description"},{default:t(()=>[e(T,{modelValue:s.description,"onUpdate:modelValue":l[6]||(l[6]=a=>s.description=a),type:"textarea",rows:4,placeholder:"请输入项目描述"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["title","modelValue"]),e(ae,{modelValue:j.value,"onUpdate:modelValue":l[9]||(l[9]=a=>j.value=a),title:"项目详情",size:"50%"},{default:t(()=>[d.value?(_(),k("div",be,[e(ee,{column:1,border:""},{default:t(()=>[e(m,{label:"项目名称"},{default:t(()=>[r(u(d.value.name),1)]),_:1}),e(m,{label:"项目类型"},{default:t(()=>[e(x,{type:$(d.value.type)},{default:t(()=>[r(u(d.value.type),1)]),_:1},8,["type"])]),_:1}),e(m,{label:"项目负责人"},{default:t(()=>[r(u(d.value.leader),1)]),_:1}),e(m,{label:"开始日期"},{default:t(()=>[r(u(D(d.value.startDate)),1)]),_:1}),e(m,{label:"计划完成"},{default:t(()=>[r(u(D(d.value.endDate)),1)]),_:1}),e(m,{label:"项目进度"},{default:t(()=>[e(P,{percentage:d.value.progress,status:z(d.value.progress)},null,8,["percentage","status"])]),_:1}),e(m,{label:"项目状态"},{default:t(()=>[e(x,{type:q(d.value.status)},{default:t(()=>[r(u(d.value.status),1)]),_:1},8,["type"])]),_:1}),e(m,{label:"项目描述"},{default:t(()=>[r(u(d.value.description),1)]),_:1})]),_:1}),i("div",Ve,[l[17]||(l[17]=i("h3",null,"项目里程碑",-1)),e(le,null,{default:t(()=>[(_(!0),k(U,null,E(d.value.milestones,(a,w)=>(_(),S(te,{key:w,type:a.status==="完成"?"success":"primary",timestamp:D(a.date)},{default:t(()=>[r(u(a.content),1)]),_:2},1032,["type","timestamp"]))),128))]),_:1})])])):re("",!0)]),_:1},8,["modelValue"])])}}},ke=se(we,[["__scopeId","data-v-445fbc7c"]]);export{ke as default};
