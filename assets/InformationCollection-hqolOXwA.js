import{_ as ee,r as u,k as te,c as h,b as l,w as a,d as s,e as f,F as z,g as B,f as p,m as le,h as r,t as g,i as D,B as ae,E,p as C,C as oe,y as ne}from"./index-BWeit-w-.js";const se={class:"info-collection-container"},ue={class:"stat-value"},re={class:"stat-title"},de={class:"card-header"},ce={class:"pagination-container"},ie={class:"dialog-footer"},pe={__name:"InformationCollection",setup(ve){const q=u([{title:"本月收集总量",value:"328",growth:12.5},{title:"待处理信息",value:"45",growth:-8.3},{title:"已处理信息",value:"283",growth:15.7},{title:"信息采纳率",value:"86%",growth:5.2}]),d=u([{id:1,date:"2024-03-20",collector:"张明",source:"客户反馈",type:"产品建议",content:"建议在5G专线产品中添加实时流量监控功能，方便企业管理网络使用情况。",status:"已处理"},{id:2,date:"2024-03-20",collector:"李华",source:"市场调研",type:"竞品信息",content:"竞争对手A公司推出了新的边缘计算解决方案，主打低延迟特性。",status:"待处理"},{id:3,date:"2024-03-19",collector:"王芳",source:"行业会议",type:"行业动态",content:"2024年第二季度将有新的5G行业政策出台，可能影响专网建设。",status:"待处理"},{id:4,date:"2024-03-19",collector:"赵伟",source:"合作伙伴",type:"市场机会",content:"B集团计划在全国范围内建设智慧工厂，需要5G专网支持。",status:"已处理"},{id:5,date:"2024-03-18",collector:"陈明",source:"内部员工",type:"产品建议",content:"现有的网络切片管理界面操作复杂，建议优化用户体验。",status:"已处理"}]),N=[{value:"客户反馈",label:"客户反馈"},{value:"市场调研",label:"市场调研"},{value:"行业会议",label:"行业会议"},{value:"合作伙伴",label:"合作伙伴"},{value:"内部员工",label:"内部员工"},{value:"社交媒体",label:"社交媒体"}],O=[{value:"产品建议",label:"产品建议"},{value:"竞品信息",label:"竞品信息"},{value:"行业动态",label:"行业动态"},{value:"市场机会",label:"市场机会"},{value:"客户投诉",label:"客户投诉"},{value:"其他",label:"其他"}],m=u(1),V=u(10),R=u(50),v=u(!1),b=u("add"),x=u(null),n=te({source:"",type:"",content:"",collector:""}),$={source:[{required:!0,message:"请选择信息来源",trigger:"change"}],type:[{required:!0,message:"请选择信息类型",trigger:"change"}],content:[{required:!0,message:"请输入信息内容",trigger:"blur"}],collector:[{required:!0,message:"请输入收集人姓名",trigger:"blur"}]},F=o=>({产品建议:"success",竞品信息:"warning",行业动态:"info",市场机会:"primary",客户投诉:"danger"})[o]||"",G=o=>o==="已处理"?"success":"warning",P=()=>{b.value="add",v.value=!0,n.source="",n.type="",n.content="",n.collector=""},j=o=>{b.value="edit",v.value=!0,Object.assign(n,o)},A=o=>{E.confirm("确认将该条信息标记为已处理？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{o.status="已处理",C.success("处理成功")}).catch(()=>{})},M=o=>{E.confirm("确认删除该条信息？","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{const t=d.value.findIndex(c=>c.id===o.id);t>-1&&(d.value.splice(t,1),C.success("删除成功"))}).catch(()=>{})},L=async()=>{x.value&&await x.value.validate(o=>{if(o){const t={id:d.value.length+1,date:new Date().toISOString().split("T")[0],status:"待处理",...n};if(b.value==="add")d.value.unshift(t),C.success("添加成功");else{const c=d.value.findIndex(k=>k.id===t.id);c>-1&&(d.value[c]=t,C.success("更新成功"))}v.value=!1}})},H=o=>{V.value=o,m.value=1},J=o=>{m.value=o};return(o,t)=>{const c=s("el-card"),k=s("el-col"),K=s("el-row"),Q=s("el-icon"),_=s("el-button"),i=s("el-table-column"),T=s("el-tag"),W=s("el-table"),X=s("el-pagination"),S=s("el-option"),U=s("el-select"),y=s("el-form-item"),I=s("el-input"),Y=s("el-form"),Z=s("el-dialog");return f(),h("div",se,[l(K,{gutter:20},{default:a(()=>[(f(!0),h(z,null,B(q.value,(e,w)=>(f(),D(k,{span:6,key:w},{default:a(()=>[l(c,{class:"stat-card"},{default:a(()=>[p("div",ue,g(e.value),1),p("div",re,g(e.title),1),p("div",{class:oe(["stat-growth",{positive:e.growth>0}])},g(e.growth>0?"+":"")+g(e.growth)+"% ",3)]),_:2},1024)]),_:2},1024))),128))]),_:1}),l(c,{class:"table-card"},{header:a(()=>[p("div",de,[t[9]||(t[9]=p("span",null,"信息收集记录",-1)),l(_,{type:"primary",onClick:P},{default:a(()=>[l(Q,null,{default:a(()=>[l(le(ne))]),_:1}),t[8]||(t[8]=r("新增记录 "))]),_:1})])]),default:a(()=>[l(W,{data:d.value,style:{width:"100%"},border:"",stripe:""},{default:a(()=>[l(i,{prop:"date",label:"收集日期",width:"120"}),l(i,{prop:"collector",label:"收集人",width:"120"}),l(i,{prop:"source",label:"信息来源",width:"120"}),l(i,{prop:"type",label:"信息类型",width:"120"},{default:a(({row:e})=>[l(T,{type:F(e.type)},{default:a(()=>[r(g(e.type),1)]),_:2},1032,["type"])]),_:1}),l(i,{prop:"content",label:"信息内容","show-overflow-tooltip":""}),l(i,{prop:"status",label:"处理状态",width:"120"},{default:a(({row:e})=>[l(T,{type:G(e.status)},{default:a(()=>[r(g(e.status),1)]),_:2},1032,["type"])]),_:1}),l(i,{label:"操作",width:"200",fixed:"right"},{default:a(e=>[l(_,{size:"small",onClick:w=>j(e.row)},{default:a(()=>t[10]||(t[10]=[r("编辑")])),_:2},1032,["onClick"]),e.row.status==="待处理"?(f(),D(_,{key:0,size:"small",type:"success",onClick:w=>A(e.row)},{default:a(()=>t[11]||(t[11]=[r("处理")])),_:2},1032,["onClick"])):ae("",!0),l(_,{size:"small",type:"danger",onClick:w=>M(e.row)},{default:a(()=>t[12]||(t[12]=[r("删除")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),p("div",ce,[l(X,{"current-page":m.value,"onUpdate:currentPage":t[0]||(t[0]=e=>m.value=e),"page-size":V.value,"onUpdate:pageSize":t[1]||(t[1]=e=>V.value=e),total:R.value,"page-sizes":[10,20,30,50],layout:"total, sizes, prev, pager, next, jumper",onSizeChange:H,onCurrentChange:J},null,8,["current-page","page-size","total"])])]),_:1}),l(Z,{title:b.value==="add"?"新增记录":"编辑记录",modelValue:v.value,"onUpdate:modelValue":t[7]||(t[7]=e=>v.value=e),width:"500px"},{footer:a(()=>[p("span",ie,[l(_,{onClick:t[6]||(t[6]=e=>v.value=!1)},{default:a(()=>t[13]||(t[13]=[r("取消")])),_:1}),l(_,{type:"primary",onClick:L},{default:a(()=>t[14]||(t[14]=[r("确定")])),_:1})])]),default:a(()=>[l(Y,{ref_key:"formRef",ref:x,model:n,rules:$,"label-width":"100px"},{default:a(()=>[l(y,{label:"信息来源",prop:"source"},{default:a(()=>[l(U,{modelValue:n.source,"onUpdate:modelValue":t[2]||(t[2]=e=>n.source=e),placeholder:"请选择信息来源",style:{width:"100%"}},{default:a(()=>[(f(),h(z,null,B(N,e=>l(S,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),l(y,{label:"信息类型",prop:"type"},{default:a(()=>[l(U,{modelValue:n.type,"onUpdate:modelValue":t[3]||(t[3]=e=>n.type=e),placeholder:"请选择信息类型",style:{width:"100%"}},{default:a(()=>[(f(),h(z,null,B(O,e=>l(S,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),l(y,{label:"信息内容",prop:"content"},{default:a(()=>[l(I,{modelValue:n.content,"onUpdate:modelValue":t[4]||(t[4]=e=>n.content=e),type:"textarea",rows:4,placeholder:"请输入信息内容"},null,8,["modelValue"])]),_:1}),l(y,{label:"收集人",prop:"collector"},{default:a(()=>[l(I,{modelValue:n.collector,"onUpdate:modelValue":t[5]||(t[5]=e=>n.collector=e),placeholder:"请输入收集人姓名"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["title","modelValue"])])}}},fe=ee(pe,[["__scopeId","data-v-c4e06551"]]);export{fe as default};
